<!DOCTYPE html>
<html lang="en">
	<%- include('./part/head') %>
	<body>
		<section
			class="vh-100 bg-image"
			style="
				background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');
			"
		>
			<div class="mask d-flex align-items-center h-100 gradient-custom-3">
				<div class="container h-100">
					<div
						class="row d-flex justify-content-center align-items-center h-100"
					>
						<div class="col-12 col-md-9 col-lg-7 col-xl-6">
							<div class="card" style="border-radius: 15px">
								<div class="card-body p-5">
									<h2 class="text-uppercase text-center mb-5">
										Create an account
									</h2>
									<form class="signup_form" method="post" enctype='multipart/form-data'>
										<div class="form-group mb-4">
											<label
												class="form-label"
												for="nickname"
												>Your Name</label
											>
											<input
												type="text"
												id="nickname"
												name="nickname"
												class="form-control form-control-lg"
											/>
										</div>
										<div class="form-outline mb-4">
											<label
												class="form-label"
												for="email"
												>Your Email</label
											>
											<input
												type="text"
												id="email"
												name="email"
												class="form-control form-control-lg"
											/>
										</div>
										<div class="form-outline mb-4">
											<label
												class="form-label"
												for="password"
												>Password</label
											>
											<input
												type="password"
												id="password"
												name="password"
												class="form-control form-control-lg"
											/>
										</div>
										<div class="form-outline mb-4">
											<label
												class="form-label"
												for="password2"
												>Repeat your password</label
											>
											<input
												type="password"
												id="password2"
												class="form-control form-control-lg"
											/>
										</div>
										<div class="form-outline mb-4">
											<label
												class="form-label"
												for="profile_img"
												>프로필 이미지</label
											>
											<input
												type="file" accept="image/*"
												id="profile_img"
												name="profile_img"
												class="form-control form-control-lg"
											/>
										</div>
										<div
											class="d-flex justify-content-center"
										>
											<input
												type="submit"
												class="btn btn-success btn-block btn-lg gradient-custom-4 text-body"
												value="Register"
											/>
										</div>

										<p
											class="text-center text-muted mt-5 mb-0"
										>
											Have already an account?
											<a
												href="/user/login"
												class="fw-bold text-body"
												><u>Login here</u></a
											>
										</p>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js"
			integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
			crossorigin="anonymous"
		></script>
		<script>
			// function signup(email, password, nickname){
			//     $.ajax({
			//         type: 'post',
			//         data: {email, password, nickname},
			//         dataType: JSON,
			//         success: function(result){
			//             location.href = "/";
			//         }
			//     })
			// }
			$(".signup_form").submit(function (e) {
				let email = $("#email").val();
				let password = $("#password").val();
				let password2 = $("#password2").val();
				let nickname = $("#nickname").val();
				let profile_img = $("#profile_img").val();
				console.log(password, password2);
				if (password !== password2) {
					// e.preventDefault => 자동으로 submit이 되지 않도록
					// 근데 현재는 위 코드가 없어도 제대로 실행되는디..무엇이 문제인가
					document.location.replace('http://127.0.0.1:3000/user/signup');
					alert("비밀번호가 다릅니다.")
				}
			});
		</script>
	</body>
</html>
